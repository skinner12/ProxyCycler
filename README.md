# ProxyCycler

This project uses Squid as a proxy server with dynamic proxy list rotation. The setup leverages Docker to run Squid, and the Squid configuration can be manually generated based on a list of proxies provided in a text file (`proxy.txt`).

## How It Works

1. **Proxy List Configuration**:
   - The proxy list is stored in a file called `proxy.txt` located in the same directory as the `docker-compose.yml` file.
   - Each line in `proxy.txt` should follow this format:
     ```
     username:password:ip:port
     ```
   - Example:
     ```
     proxyuser1:proxypass1:192.168.1.100:8080
     proxyuser2:proxypass2:192.168.1.101:8080
     ```

2. **Manual Configuration Generation**:
   - The Squid configuration file (`squid.conf`) must be manually generated by running the script `generate_squid_conf.sh`.
   - This script reads the `proxy.txt` file and generates a `squid.conf` file with the necessary configuration for Squid to use the provided proxies in a round-robin manner.

## Updating the Proxy List

To update the list of proxies used by Squid:

1. **Edit `proxy.txt`**:
   - Modify the `proxy.txt` file in the project directory to add, remove, or update the proxies.

2. **Manually Generate the Configuration**:
   - After editing `proxy.txt`, you need to manually generate the Squid configuration by running the script `generate_squid_conf.sh` from your terminal:
     ```bash
     ./generate_squid_conf.sh
     ```
   - Ensure the script has execution permissions. If not, you can add them with the following command:
     ```bash
     chmod +x generate_squid_conf.sh
     ```

3. **Restart the Proxy Server**:
   - Once the configuration has been updated, restart the Docker container to apply the changes:
     ```bash
     docker-compose restart squid
     ```

## Usage

1. **Start the Proxy Server**:
   - To start the Squid proxy server, run the following command:
     ```bash
     docker-compose up -d
     ```

2. **Access the Proxy**:
   - Once the container is running, Squid will listen on port `3128`. You can configure your applications to use the proxy at `localhost:3128`.

3. **Stopping the Proxy Server**:
   - To stop the proxy server, run:
     ```bash
     docker-compose down
     ```

## Notes

- Ensure that you have the necessary permissions to run the script and that `docker-compose` is installed and properly configured on your machine.
- The `generate_squid_conf.sh` script is critical for updating the Squid configuration. If you make any changes to the proxy list, remember to regenerate the configuration and restart the Squid service.
- If you encounter any issues with the script, you can debug by running it manually and checking for any errors in the output.

